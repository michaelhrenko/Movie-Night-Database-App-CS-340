<!-- Sources: -->
<!-- (1) "flask-starter-app", mlapresta, Andrew Kamand, https://github.com/osu-cs340-ecampus/flask-starter-app
		 - Scope: Most sections below.
		 - Date: First instance of using the code started on 10/08/2022.
		 - Originality: Our code/approach was based on this source, but it deviated materially 
			as we learned additional techniques via trial and error. --> 

<!-- (2) "Template Designer Documentation", Pallets, https://jinja.palletsprojects.com/en/3.1.x/templates/
		 - Scope: Areas where jinja is used and also include statements.
		 - Date: First instance of using the code started on 11/15/2022.
		 - Originality: Our code/approach was based on this source. -->

<table border="1" cellpadding="5">
    <!-- This uses data passed from app.py -->
    {% if data %}
        <thead>
            <tr>
                <!-- Iterate through each key in the first entry to get the column name -->
                {% for key in data[0].keys() %}
                
                <!-- Create a <th> tag with the key inside of it, this will be our header row -->
                <!-- Apply aliasing here so it doesn't mess with the table column naming in the data -->

                <th scope="col" data-field="{{ key }}" data-filter-control="input">
                    {% if key == "movie_id" %}
                        Movie ID
                    {% elif key == "movie_name" %}
                        Movie Name
                    {% elif key == "movie_year_released" %}
                        Year Released
                    {% elif key == "movie_language" %}
                        Language
                    {% elif key == "director_id" %}
                        Director ID
                    {% elif key == "director_name" %}
                        Director Name
                    {% elif key == "actor_id" %}
                        Actor ID
                    {% elif key == "actor_name" %}
                        Actor Name
                    {% elif key == "movie_actor_id" %}
                        Movie Actor ID
                    {% elif key == "genre_id" %}
                        Genre ID
                    {% elif key == "genre_name" %}
                        Genre Name
                    {% elif key == "movie_genre_id" %}
                        Movie Genre ID
                    {% elif key == "user_id" %}
                        User ID
                    {% elif key == "user_first_name" %}
                        User First Name
                    {% elif key == "user_last_name" %}
                        User Last Name
                    {% elif key == "user_name" %}
                        User Name
                    {% elif key == "user_email" %}
                        User Email
                    {% elif key == "review_id" %}
                        Review ID
                    {% elif key == "movie_rating" %}
                        Movie Rating 
                    {% else %}
                        {{ key }}
                  {% endif %}
                </th>
                {% endfor %} 
            </tr>

        <tbody>
            <!-- Now, iterate through every item in data -->
                {% for item in data %}
                <tr>
                    <!-- Then iterate through every key in the current item dictionary -->
                    {% for key in item.keys() %}

                    <!-- Create a <td> element with the value of that key in it -->
                    <td> {{item[key]}} </td> 
                    {% endfor %}

                    <!-- Edit and delete buttons -->

                    {% if createTbl == "movies" %}
                        <td><a href="edit_movie/{{item.movie_id}}" class="btn btn-default">Edit</a></td>
                        <td><a href="delete_movie/{{item.movie_id}}" onclick="return confirm('Confirm delete of {{item.movie_name}} from the data.')" class="btn btn-default">Delete</a></td>

                    {% elif createTbl == "movies_filtered" %}
                        <td><a href="edit_movie/{{item.movie_id}}" class="btn btn-default">Edit</a></td>
                        <td><a href="delete_movie/{{item.movie_id}}" onclick="return confirm('Confirm delete of {{item.movie_name}} from the data.')" class="btn btn-default">Delete</a></td>

                    {% elif createTbl == "actors" %}
                        <td><a href="edit_actor/{{item.actor_id}}" class="btn btn-default">Edit</a></td>
                        <td><a href="delete_actor/{{item.actor_id}}" onclick="return confirm('Confirm delete of {{item.actor_name}} from the data.')" class="btn btn-default">Delete</a></td>

                    {% elif createTbl == "directors" %}
                        <td><a href="edit_director/{{item.director_id}}" class="btn btn-defactorault">Edit</a></td>
                        <td><a href="delete_director/{{item.director_id}}" onclick="return confirm('Confirm delete of {{item.director_name}} from the data.')" class="btn btn-default">Delete</a></td>

                    {% elif createTbl == "genres" %}
                        <td><a href="edit_genre/{{item.genre_id}}" class="btn btn-default">Edit</a></td>
                        <td><a href="delete_genre/{{item.genre_id}}" onclick="return confirm('Confirm delete of {{item.genre_name}} from the data.')" class="btn btn-default">Delete</a></td>

                    {% elif createTbl == "users" %}
                        <td><a href="edit_user/{{item.user_id}}" class="btn btn-default">Edit</a></td>
                        <td><a href="delete_user/{{item.user_id}}" onclick="return confirm('Confirm delete of {{item.user_first_name}} {{item.user_last_name}} from the data.')"  class="btn btn-default">Delete</a></td>

                     {% elif createTbl == "movies_actors" %}
                        <td><a href="delete_movie_actor/{{item.movie_actor_id}}" onclick="return confirm('Confirm delete of this record from the data.')" class="btn btn-default">Delete</a></td>

                     {% elif createTbl == "movies_genres" %}
                        <td><a href="delete_movie_genre/{{item.movie_genre_id}}" onclick="return confirm('Confirm delete of this record from the data.')" class="btn btn-default">Delete</a></td>

                     {% elif createTbl == "users_reviews" %}
                        <td><a href="edit_user_review/{{item.review_id}}" class="btn btn-default">Edit</a></td>
                        <td><a href="delete_user_review/{{item.review_id}}" onclick="return confirm('Confirm delete of this record from the data.')" class="btn btn-default">Delete</a></td> 

                    {% endif %}
                </tr> 
                {% endfor %} 
        {% endif %} 
</table>